package com.example.demo.service;

import java.io.IOException;
import java.util.List;

import org.springframework.web.multipart.MultipartFile;

import com.example.demo.entity.Account;
import com.example.demo.form.AdminAccountForm;
import com.example.demo.form.UserAccountForm;

public interface AccountService {
    Account getCurrentAdminUser(); // 現在の管理者ユーザーを取得
    Account getCurrentUser(); // 現在のユーザーを取得
    void updateAccount(Account account); // アカウントを更新
    Account createUserAccount(UserAccountForm form); // 一般ユーザーアカウントを作成
    Account createAdminAccount(AdminAccountForm form); // 管理者アカウントを作成
    List<Account> getAllAccounts(); // すべてのアカウントを取得
    
    public String saveProfileImage(MultipartFile profileImage) throws IOException {
        // ファイル名生成
        String fileName = UUID.randomUUID().toString() + "_" + profileImage.getOriginalFilename();
        
        // ファイルの保存先パス（適宜変更）
        Path targetPath = Paths.get("path/to/images/directory/" + fileName);

        // ファイル保存
        Files.copy(profileImage.getInputStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);

        // ファイル名を返却（パスを含めない）
        return fileName;
}
